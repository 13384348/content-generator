# AI内容生成助手 - 项目说明文档

## 📋 项目概述

**项目名称**: AI内容生成助手 - 萌太奇自媒体运营小弟
**版本**: version3-step-wizard
**技术栈**: Vue.js 3 + Node.js + SQLite + Element Plus
**部署地址**: http://8.154.36.16:5004
**部署时间**: 2025年9月28日

## 🎯 主要功能

### 核心功能模块
1. **内容生成** - 智能文案创作（包含钩子生成）
2. **爆款二创** - 基于爆款内容进行再创作
3. **分镜脚本** - 视频分镜脚本生成
4. **我的收藏** - 查看和管理收藏的精选内容
5. **关于萌太奇** - 公司信息展示和联系方式

### 即将推出功能
- 视频提取文字
- 对标账号拆解
- 人设IP打造文案

## 🏗️ 系统架构

### 前端架构
- **框架**: Vue.js 3 with Composition API
- **UI库**: Element Plus
- **构建工具**: Vite
- **样式**: CSS变量系统，响应式设计
- **特色**: 创新的机器人中心布局，气泡式导航

### 后端架构
- **运行环境**: Node.js 18.20.8
- **框架**: Express.js
- **数据库**: SQLite3
- **API集成**: DeepSeek AI API
- **认证**: JWT Token认证系统

### 数据库设计
主要数据表：
- `prompts` - 提示词模板
- `generation_history` - 生成历史
- `hook_prompts` - 钩子提示词
- `content_prompts` - 文案提示词
- `storyboard_prompts` - 分镜脚本提示词
- `explosive_recreation_prompts` - 爆款文案二创提示词
- `about_content` - 关于内容管理
- 用户系统相关表

## 🚀 部署和运维

### 服务器信息
- **服务器地址**: 8.154.36.16
- **SSH用户**: root
- **应用目录**: `/opt/content-generator/`
- **前端目录**: `/opt/content-generator/frontend/dist/`
- **后端目录**: `/opt/content-generator/backend/`

### 关键文件位置
```
/opt/content-generator/
├── frontend/dist/          # 前端构建文件
├── backend/                # 后端应用
│   ├── server.js          # 主服务器文件
│   ├── database/          # 数据库相关
│   ├── middleware/        # 中间件
│   └── services/          # 服务层
├── server-daemon.sh       # 服务器守护脚本
└── logs/                  # 日志文件
```

### 服务器管理命令

#### 启动/重启服务器
```bash
ssh root@8.154.36.16 "/opt/content-generator/server-daemon.sh"
```

#### 查看服务器状态
```bash
ssh root@8.154.36.16 "ps -p \$(cat /tmp/content-generator.pid)"
```

#### 查看服务器日志
```bash
ssh root@8.154.36.16 "tail -f /tmp/content-generator.log"
```

#### 停止服务器
```bash
ssh root@8.154.36.16 "kill \$(cat /tmp/content-generator.pid)"
```

## 🔧 开发和部署流程

### 本地开发
```bash
# 前端开发
cd frontend
npm install
npm run dev

# 后端开发
cd backend
npm install
node server.js
```

### 稳定部署脚本
项目根目录下提供了两个部署脚本：

1. **deploy-stable.sh** - 完整部署流程
2. **server-daemon.sh** - 服务器守护进程

#### 使用稳定部署脚本
```bash
./deploy-stable.sh
```

该脚本会：
- 构建前端项目
- 清理旧的服务器进程
- 上传前端和后端文件
- 启动新的服务器实例
- 验证部署状态

## 🐛 常见问题和解决方案

### 问题1: ERR_CONNECTION_RESET
**原因**: 多个服务器进程冲突
**解决**: 使用 `server-daemon.sh` 脚本重启服务器

### 问题2: 服务器不稳定
**原因**: SSH连接断开导致进程终止
**解决**: 守护脚本使用 `nohup` 确保进程持久运行

### 问题3: 认证中间件错误
**原因**: `userService` 变量作用域问题
**解决**: 已修复 `backend/middleware/auth.js` 中的变量声明

### 问题4: 气泡布局重叠
**原因**: 不同屏幕尺寸下的布局冲突
**解决**: 实施了响应式布局优化，针对竖屏、横屏、小屏设备的专门布局

## 🎨 界面设计特色

### 创新的机器人中心布局
- 中央机器人形象作为核心交互元素
- 围绕机器人的气泡式功能导航
- 思维粒子效果和连接线动画
- 全屏内容模式的平滑切换

### 响应式设计
- 移动端优先的设计理念
- 竖屏、横屏专门优化
- 触控友好的交互设计
- 气泡大小和位置的智能调整

### 关于萌太奇功能
- 底部居中的显眼按钮位置
- 弹窗展示公司信息和联系方式
- 一键复制电话和微信功能
- 管理员后台可编辑内容

## 📊 技术亮点

1. **AI集成**: 深度集成DeepSeek AI API，支持多种内容生成场景
2. **用户系统**: 完整的注册、登录、权限管理系统
3. **实时生成**: 支持流式API调用，实时显示生成进度
4. **历史管理**: 完整的生成历史记录和管理
5. **管理后台**: 强大的管理员后台，支持提示词管理和用户管理
6. **响应式布局**: 适配所有设备的创新布局设计

## 🔒 安全特性

- JWT Token认证
- 用户权限分级管理
- API访问限制
- 输入验证和XSS防护
- 数据库连接池管理

## 📈 性能优化

- Vue.js 3 Composition API性能优化
- 前端资源压缩和缓存
- 数据库查询优化
- API响应缓存
- 图片和资源懒加载

## 🔮 未来规划

1. 添加更多AI功能模块
2. 用户数据分析和统计
3. 内容模板库扩展
4. 移动端APP开发
5. 多租户SaaS架构升级

## 📞 联系信息

**广西蒙太奇影视传媒有限公司**
- 联系电话：13978445003
- 微信号：13978445003
- 项目维护：Claude Code Assistant

---

**最后更新**: 2025年9月28日
**维护状态**: 生产环境稳定运行
**访问地址**: http://8.154.36.16:5004